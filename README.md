# pdf-hosting

https://calico-blanket.github.io/pdf-hosting/


# InDesign目次リンクとAndroidの互換性に関するまとめ

## ■ 現在の状況
- InDesignから目次付きPDFを作成（相互参照形式）
- インタラクティブPDFと印刷用PDF（ハイパーリンクON）を出力済み
- Androidでは目次リンクがテキスト扱い（無効）になる
- Appleデバイスではすべて正常にリンクが動作
- 一部の相互参照リンクはAndroidでも動作している

## ■ 原因の整理
- PDF自体は正しく出力されている（Appleで動作）
- Androidのビューアが相互参照形式のリンクを無視する傾向あり
- 特に自動生成された目次（相互参照ベース）は非互換性が高い

## ■ 解決策・代替案

### ① 手動で目次にハイパーリンクを設定
- InDesignの「ハイパーリンク」パネルから、各目次項目にページリンクを設定
- 相互参照ではなくハイパーリンク形式にすることでAndroidでも高い互換性
- ページ数が変わるとリンクがずれる点に注意

### ② 閲覧アプリへの誘導
- QRコードの遷移先を中間案内ページにし、「Adobe Acrobatで開いてください」などの文言を記載
- 直接PDFを開かせず、案内→ダウンロード→専用アプリで開く流れにする

### ③ ブックマーク（アウトライン）を併用
- 段落スタイルからInDesignでブックマークを作成
- Androidでも対応しているビューア（Adobe, Xodoなど）では機能する

## ■ 対応方法まとめ（表）

| 方法                              | Android互換性 | 労力 | 備考                             |
|-----------------------------------|----------------|------|----------------------------------|
| 自動目次（相互参照）             | ✘              | 低   | Androidの多くで無効              |
| インタラクティブPDF（目次あり）   | ✘              | 中   | 出力形式は正しくても非対応あり  |
| 手動ハイパーリンク設定           | ◎              | 高   | 最も確実な方法                    |
| ブックマーク併用                 | △              | 中   | ビューア依存（Xodo等）           |
| 閲覧アプリ誘導（中間ページ）     | ○              | 中   | ユーザー案内が必要               |

## ■ 推奨対応
- 目次に関しては「手動でのハイパーリンク設定」がAndroid対応としては最も確実
- 閲覧者のPDF環境に配慮し、中間案内ページを設けることも検討

## ■ 補足：Apple製品とAndroid製品におけるPDF目次リンクの解釈の違い

- InDesignでは、以下の2種類のリンクが作成可能です：
  1. **目次（TOC）機能で自動生成されるリンク**：これは「相互参照（クロスリファレンス）」の一種で、段落スタイルに基づいてリンクが自動的に埋め込まれます。
  2. **本文中に手動で設定する相互参照リンク**：ユーザーが任意のテキストにリンクを設け、他のページにジャンプさせるものです。

- **Apple製デバイス**（iOSの「ファイル」アプリやSafari、Macのプレビュー.appなど）は、上記の両方のリンク形式を「内部リンク」として解釈し、正常にページ遷移が行えます。

- 一方、**多くのAndroid端末の標準PDFビューア**（Google Chrome内のPDF表示機能やGoogleドライブのプレビューなど）では：
  - **手動で作成した相互参照リンクは正常に機能**します。
  - **目次（TOC）機能で自動生成されたリンクは、リンクと認識されず単なるテキストとして扱われる**ことが多いです。

- Androidでも「Adobe Acrobat」や「Xodo PDF」などの専用ビューアアプリを使用すれば、TOCリンクも含め正しく動作する場合がありますが、すべての閲覧環境で保証されるわけではありません。
